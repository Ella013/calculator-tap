<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-PJBNVGXSZ8"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-PJBNVGXSZ8');
    </script>
    
    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5619502783367221"
         crossorigin="anonymous"></script>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Financial Calculators | Free Online Tools for Loans, Mortgage & More | Calculator Tap</title>
    <meta name="description" content="Free online financial calculators for loans, mortgage qualification, debt payoff, and paycheck calculations. Make informed financial decisions with our easy-to-use tools.">
    <meta name="keywords" content="financial calculator, loan calculator, mortgage calculator, debt payoff calculator, paycheck calculator, online calculator, free calculator">
    <meta name="author" content="Calculator Tap">
    <meta name="robots" content="index, follow">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://calculatortap.com/">
    <meta property="og:title" content="Financial Calculators | Free Online Tools | Calculator Tap">
    <meta property="og:description" content="Free online financial calculators for loans, mortgage qualification, debt payoff, and paycheck calculations.">
    <meta property="og:image" content="calculator tap logo.png">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://calculatortap.com/">
    <meta property="twitter:title" content="Financial Calculators | Free Online Tools | Calculator Tap">
    <meta property="twitter:description" content="Free online financial calculators for loans, mortgage qualification, debt payoff, and paycheck calculations.">
    <meta property="twitter:image" content="calculator tap logo.png">

    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <!-- Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebSite",
        "name": "Calculator Tap",
        "url": "https://calculatortap.com",
        "description": "Free online financial calculators for loans, mortgage qualification, debt payoff, and paycheck calculations.",
        "potentialAction": {
            "@type": "SearchAction",
            "target": "https://calculatortap.com/search?q={search_term_string}",
            "query-input": "required name=search_term_string"
        }
    }
    </script>
    
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "ItemList",
        "itemListElement": [
            {
                "@type": "ListItem",
                "position": 1,
                "item": {
                    "@type": "WebApplication",
                    "name": "Loan Calculator",
                    "url": "https://calculatortap.com/loan-calculator/loan-calculator.html",
                    "description": "Calculate payments and interest for any type of loan."
                }
            },
            {
                "@type": "ListItem",
                "position": 2,
                "item": {
                    "@type": "WebApplication",
                    "name": "Mortgage Calculator",
                    "url": "https://calculatortap.com/mortgage-qualification-calculator/mortgage-qualification.html",
                    "description": "Find out how much house you can afford."
                }
            },
            {
                "@type": "ListItem",
                "position": 3,
                "item": {
                    "@type": "WebApplication",
                    "name": "Paycheck Calculator",
                    "url": "https://calculatortap.com/paycheck-calculator/paycheck-calculator.html",
                    "description": "Estimate take-home pay after taxes and deductions."
                }
            },
            {
                "@type": "ListItem",
                "position": 4,
                "item": {
                    "@type": "WebApplication",
                    "name": "Debt Payoff Calculator",
                    "url": "https://calculatortap.com/payoff-calculator/payoff-calculator.html",
                    "description": "Plan your debt payoff strategy and save on interest."
                }
            }
        ]
    }
    </script>

    <style>
        /* Compact calculator card styles */
        .calculator-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 1.2rem;
            margin: 2rem auto;
            max-width: 1100px;
            padding: 0 2rem;
            justify-content: center;
        }
        
        .calculator-card {
            background: white;
            padding: 1.5rem;
            border-radius: 18px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);
            text-align: center;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        
        .calculator-card i {
            font-size: 2rem;
            color: #3498db;
            margin-bottom: 0.8rem;
        }
        
        .calculator-card h2 {
            font-size: 1.2rem;
            margin-bottom: 0.6rem;
            color: #2c3e50;
        }
        
        .calculator-card p {
            font-size: 0.9rem;
            color: #666;
            margin-bottom: 1rem;
            line-height: 1.4;
        }
        
        .calculator-card .btn {
            display: inline-block;
            padding: 0.5rem 1rem;
            background: #3498db;
            color: white;
            border-radius: 25px;
            text-decoration: none;
            font-size: 0.9rem;
            transition: background 0.2s;
        }
        
        .calculator-card .btn:hover {
            background: #2980b9;
        }
        
        .calculator-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        /* 모바일 메뉴 스타일 추가 */
        .hamburger-menu {
            display: none;
            font-size: 1.8rem;
            color: #333;
            cursor: pointer;
        }
        
        .mobile-nav {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(255, 255, 255, 0.95);
            z-index: 1000;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            transform: translateY(-100%);
            transition: transform 0.3s ease;
        }
        
        .mobile-nav.active {
            transform: translateY(0);
            display: flex;
        }
        
        .mobile-nav-link {
            display: block;
            font-size: 1.5rem;
            padding: 1rem;
            color: #333;
            text-decoration: none;
            margin: 0.5rem 0;
            transition: color 0.2s;
        }
        
        .mobile-nav-link:hover {
            color: #3498db;
        }
        
        .close-menu {
            position: absolute;
            top: 1.5rem;
            right: 1.5rem;
            font-size: 2rem;
            color: #333;
            cursor: pointer;
        }
        
        @media (max-width: 768px) {
            .main-nav {
                display: none;
            }
            
            .hamburger-menu {
                display: block;
            }
            
            .calculator-grid {
                grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
                gap: 1rem;
                padding: 0 1rem;
            }
            
            .calculator-card i {
                font-size: 1.8rem;
            }
            
            .calculator-card h2 {
                font-size: 1.1rem;
            }
        }
        
        /* 기본 계산기 스타일 추가 */
        .basic-calculator {
            margin: 0 auto;
            width: 100%;
            max-width: 400px;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 6px 18px rgba(0,0,0,0.1);
        }
        
        .calc-display {
            background: white;
            padding: 16px 20px;
            text-align: right;
            display: flex;
            flex-direction: column;
            align-items: flex-end;
            height: auto;
            border-bottom: 1px solid #eee;
        }
        
        .calc-expression {
            font-size: 0.9rem;
            color: #777;
            margin-bottom: 5px;
            height: 20px;
        }
        
        .calc-result {
            font-size: 3rem;
            font-weight: 700;
            color: #000;
        }

        .calc-buttons {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 4px;
            background: #f0f0f0;
            padding: 6px;
        }
        
        .calc-button {
            background: white;
            border: none;
            height: 45px;
            font-size: 1.4rem;
            cursor: pointer;
            transition: background 0.1s;
            border-radius: 8px;
            aspect-ratio: 2 / 1;
            font-weight: normal;
        }
        
        .calc-button:hover {
            background: #f5f5f5;
            transform: none;
        }
        
        .calc-button:active {
            background: #eee;
        }
        
        .calc-button.operation {
            background: white;
            color: #333;
            font-size: 1.6rem;
        }
        
        .calc-button.equals {
            background: #0088cc;
            color: white;
        }
        
        .calc-button.equals:hover {
            background: #0077b6;
        }
        
        .calc-button.clear {
            background: #f8f8f8;
            color: #e74c3c;
        }
        
        /* 기본 계산기 섹션 스타일 */
        .hero-section {
            display: flex;
            flex-wrap: wrap;
            gap: 2rem;
            max-width: 1100px;
            margin: 3rem auto 3rem;
            padding: 0 2rem;
            align-items: center;
        }

        .calculator-wrapper {
            flex: 1;
            min-width: 400px;
            display: flex;
            justify-content: flex-start;
            align-items: center;
        }

        .hero-content {
            flex: 1;
            min-width: 300px;
            text-align: left;
        }

        .basic-calculator-section {
            margin: 0;
            padding: 0;
        }

        .hero-content h1 {
            margin-top: 0;
            font-size: 2.6rem;
            color: #2c3e50;
            margin-bottom: 1rem;
        }

        .hero-content .subtitle {
            font-size: 1.2rem;
            color: #7f8c8d;
            margin-bottom: 2rem;
        }

        .search-container {
            position: relative;
            max-width: 450px;
            margin-left: 0;
        }

        @media (max-width: 768px) {
            .hero-section {
                flex-direction: column;
                align-items: center;
                gap: 1rem;
                padding: 0 1rem;
            }
            
            .hero-content {
                order: 1;
                width: 100%;
            }
            
            .calculator-wrapper {
                order: 2;
                width: 100%;
                min-width: initial;
            }
            
            .search-container {
                margin: 0 auto;
            }
            
            .basic-calculator {
                max-width: 100%;
            }
            
            .calculator-grid {
                padding: 0 1rem;
            }
        }

        /* 최신 블로그 섹션 스타일 */
        .latest-blog-section {
            padding: 3rem 0;
            background-color: #f8f9fa;
            margin: 2rem 0;
            border-radius: 12px;
        }
        
        .section-title {
            text-align: center;
            margin-bottom: 2rem;
            color: #2c3e50;
            font-size: 1.8rem;
        }
        
        .latest-blog-container {
            display: flex;
            flex-wrap: wrap;
            gap: 2rem;
            justify-content: center;
        }
        
        .latest-blog-card {
            background-color: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            width: 100%;
            max-width: 380px;
            transition: transform 0.3s ease;
        }
        
        .latest-blog-card:hover {
            transform: translateY(-5px);
        }
        
        .blog-thumbnail {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }
        
        .blog-card-content {
            padding: 1.5rem;
        }
        
        .blog-card-content h3 {
            margin-top: 0;
            margin-bottom: 0.8rem;
            color: #2c3e50;
            font-size: 1.3rem;
        }
        
        .blog-card-content p {
            color: #666;
            margin-bottom: 1.2rem;
            line-height: 1.5;
        }
        
        .btn-secondary {
            display: inline-block;
            padding: 0.6rem 1.2rem;
            background-color: #3498db;
            color: white;
            border-radius: 4px;
            text-decoration: none;
            font-weight: 500;
            transition: background-color 0.2s;
        }
        
        .btn-secondary:hover {
            background-color: #2980b9;
        }
        
        .btn-text {
            color: #3498db;
            text-decoration: none;
            font-weight: 500;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            transition: color 0.2s;
        }
        
        .btn-text i {
            transition: transform 0.2s;
        }
        
        .btn-text:hover {
            color: #2980b9;
        }
        
        .btn-text:hover i {
            transform: translateX(3px);
        }
        
        .view-all-container {
            text-align: center;
            margin-top: 2rem;
        }
        
        @media (max-width: 768px) {
            .latest-blog-container {
                flex-direction: column;
                align-items: center;
            }
            
            .latest-blog-card {
                max-width: 100%;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-container">
            <div class="logo">
                <a href="index.html" class="logo-link" style="display: flex; align-items: center;">
                    <img src="calculator tap logo.png" alt="Calculator Tap" style="height: 40px; width: auto;">
                    <h1 style="margin-left: 10px;">Calculator Tap</h1>
                </a>
            </div>
            <nav class="main-nav">
                <a href="index.html" class="nav-link" data-translate="nav.home"><i class="fas fa-home"></i> Home</a>
                <div class="language-selector">
                    <div class="language-select-wrapper">
                        <i class="fas fa-globe language-icon"></i>
                        <button class="language-select-btn" id="languageSelectBtn">
                            <span class="language-selected">English</span>
                            <i class="fas fa-chevron-down language-arrow"></i>
                        </button>
                        <div class="language-dropdown" id="languageDropdown">
                            <div class="language-option" data-lang="en">English</div>
                            <div class="language-option" data-lang="es">Español</div>
                            <div class="language-option" data-lang="zh">中文</div>
                            <div class="language-option" data-lang="ko">한국어</div>
                            <div class="language-option" data-lang="ja">日本語</div>
                        </div>
                    </div>
                </div>
            </nav>
            <div class="hamburger-menu" id="hamburgerMenu">
                <i class="fas fa-bars" aria-hidden="true"></i>
            </div>
        </div>
    </header>

    <!-- Mobile Navigation -->
    <div class="mobile-nav" id="mobileNav">
        <div class="close-menu" id="closeMenu">
            <i class="fas fa-times" aria-hidden="true"></i>
        </div>
        <a href="index.html" class="mobile-nav-link"><i class="fas fa-home"></i> Home</a>
        <a href="loan-calculator/loan-calculator.html" class="mobile-nav-link"><i class="fas fa-money-bill"></i> Loan Calculator</a>
        <a href="Mortgage-Qualification-Calculator/mortgage-qualification.html" class="mobile-nav-link"><i class="fas fa-home"></i> Mortgage Calculator</a>
        <a href="paycheck-calculator/paycheck-calculator.html" class="mobile-nav-link"><i class="fas fa-wallet"></i> Paycheck Calculator</a>
        <a href="payoff-calculator/payoff-calculator.html" class="mobile-nav-link"><i class="fas fa-money-bill-wave"></i> Debt Payoff Calculator</a>
        <a href="compound-interest-calculator/compound-interest.html" class="mobile-nav-link"><i class="fas fa-chart-line"></i> Compound Interest Calculator</a>
        <a href="investment-return-calculator/investment-return.html" class="mobile-nav-link"><i class="fas fa-chart-bar"></i> Investment Return Calculator</a>
        <a href="dividend-calculator/dividend-calculator.html" class="mobile-nav-link"><i class="fas fa-coins"></i> Dividend Calculator</a>
        <a href="stock-return-calculator/stock-return.html" class="mobile-nav-link"><i class="fas fa-chart-pie"></i> Stock Return Calculator</a>
    </div>
        
    <!-- Main Content -->
    <main class="main-content">
        <!-- Hero Section with Calculator and Title/Search -->
        <section class="hero-section">
            <div class="calculator-wrapper">
                <div class="basic-calculator-section">
                    <div class="basic-calculator">
                        <div class="calc-display">
                            <div class="calc-expression" id="calcExpression"></div>
                            <div class="calc-result" id="calcDisplay">0</div>
                        </div>
                        <div class="calc-buttons">
                            <button class="calc-button clear" onclick="clearCalc()">C</button>
                            <button class="calc-button operation" onclick="appendToCalc('%')">%</button>
                            <button class="calc-button" onclick="backspace()">⌫</button>
                            <button class="calc-button operation" onclick="appendToCalc('/')">&divide;</button>
                            
                            <button class="calc-button" onclick="appendToCalc('7')">7</button>
                            <button class="calc-button" onclick="appendToCalc('8')">8</button>
                            <button class="calc-button" onclick="appendToCalc('9')">9</button>
                            <button class="calc-button operation" onclick="appendToCalc('*')">&times;</button>
                            
                            <button class="calc-button" onclick="appendToCalc('4')">4</button>
                            <button class="calc-button" onclick="appendToCalc('5')">5</button>
                            <button class="calc-button" onclick="appendToCalc('6')">6</button>
                            <button class="calc-button operation" onclick="appendToCalc('-')">−</button>
                            
                            <button class="calc-button" onclick="appendToCalc('1')">1</button>
                            <button class="calc-button" onclick="appendToCalc('2')">2</button>
                            <button class="calc-button" onclick="appendToCalc('3')">3</button>
                            <button class="calc-button operation" onclick="appendToCalc('+')">+</button>
                            
                            <button class="calc-button" onclick="toggleSign()">+/−</button>
                            <button class="calc-button" onclick="appendToCalc('0')">0</button>
                            <button class="calc-button" onclick="appendToCalc('.')">.</button>
                            <button class="calc-button equals" onclick="calculateResult()">=</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="hero-content">
                <h1 data-translate="hero.title">Free Online Financial Calculators</h1>
                <p class="subtitle" data-translate="hero.subtitle">Make informed financial decisions with our easy-to-use tools</p>
                <div class="search-container">
                    <input type="text" id="searchInput" placeholder="Search calculators..." data-translate-attr="hero.searchPlaceholder" aria-label="Search calculators">
                    <button id="searchButton" class="search-button" aria-label="Search">
                        <i class="fas fa-search"></i>
                    </button>
                    <div class="search-suggestions" id="searchSuggestions" role="listbox"></div>
                </div>
            </div>
        </section>

        <!-- Calculator Blocks -->
        <section class="calculator-grid" aria-label="Available calculators">
            <div class="calculator-card">
                <i class="fas fa-calculator" aria-hidden="true"></i>
                <h2 data-translate="calculators.loan.title">Loan Calculator</h2>
                <p data-translate="calculators.loan.description">Calculate monthly payments, total interest, and payoff timeline for any type of loan. Perfect for personal loans, auto loans, and student loans.</p>
                <a href="loan-calculator/loan-calculator.html" class="btn" aria-label="Use Loan Calculator" data-translate="calculators.loan.button">Calculate</a>
            </div>
            <div class="calculator-card">
                <i class="fas fa-home" aria-hidden="true"></i>
                <h2 data-translate="calculators.mortgage.title">Mortgage Calculator</h2>
                <p data-translate="calculators.mortgage.description">Determine how much house you can afford, estimate monthly payments, and understand your mortgage qualification requirements.</p>
                <a href="Mortgage-Qualification-Calculator/mortgage-qualification.html" class="btn" aria-label="Use Mortgage Calculator" data-translate="calculators.mortgage.button">Calculate</a>
            </div>
            <div class="calculator-card">
                <i class="fas fa-wallet" aria-hidden="true"></i>
                <h2 data-translate="calculators.paycheck.title">Paycheck Calculator</h2>
                <p data-translate="calculators.paycheck.description">Estimate your take-home pay after taxes and deductions. Understand your net income and plan your budget effectively.</p>
                <a href="paycheck-calculator/paycheck-calculator.html" class="btn" aria-label="Use Paycheck Calculator" data-translate="calculators.paycheck.button">Calculate</a>
            </div>
            <div class="calculator-card">
                <i class="fas fa-money-bill-wave" aria-hidden="true"></i>
                <h2 data-translate="calculators.debt.title">Debt Payoff Calculator</h2>
                <p data-translate="calculators.debt.description">Create a debt repayment plan, calculate your debt-free date, and see how much you can save on interest payments.</p>
                <a href="payoff-calculator/payoff-calculator.html" class="btn" aria-label="Use Debt Payoff Calculator" data-translate="calculators.debt.button">Calculate</a>
            </div>
            <div class="calculator-card">
                <i class="fas fa-chart-line" aria-hidden="true"></i>
                <h2 data-translate="calculators.compound.title">Compound Interest Calculator</h2>
                <p data-translate="calculators.compound.description">Calculate how your investments will grow over time with compound interest. Plan for your financial future.</p>
                <a href="compound-interest-calculator/compound-interest.html" class="btn" aria-label="Use Compound Interest Calculator" data-translate="calculators.compound.button">Calculate</a>
            </div>
            <div class="calculator-card">
                <i class="fas fa-chart-pie" aria-hidden="true"></i>
                <h2 data-translate="calculators.investment.title">Investment Return Calculator</h2>
                <p data-translate="calculators.investment.description">Analyze your investment performance and calculate returns on your portfolio over different time periods.</p>
                <a href="investment-return-calculator/investment-return.html" class="btn" aria-label="Use Investment Return Calculator" data-translate="calculators.investment.button">Calculate</a>
            </div>
            <div class="calculator-card">
                <i class="fas fa-hand-holding-usd" aria-hidden="true"></i>
                <h2 data-translate="calculators.dividend.title">Dividend Calculator</h2>
                <p data-translate="calculators.dividend.description">Calculate dividend income, yield, and growth potential from your stock investments and dividend portfolios.</p>
                <a href="dividend-calculator/dividend-calculator.html" class="btn" aria-label="Use Dividend Calculator" data-translate="calculators.dividend.button">Calculate</a>
            </div>
            <div class="calculator-card">
                <i class="fas fa-chart-bar" aria-hidden="true"></i>
                <h2 data-translate="calculators.stock.title">Stock Return Calculator</h2>
                <p data-translate="calculators.stock.description">Calculate your stock investment returns including capital gains, dividends, and total returns over your investment period.</p>
                <a href="stock-return-calculator/stock-return.html" class="btn" aria-label="Use Stock Return Calculator" data-translate="calculators.stock.button">Calculate</a>
            </div>
        </section>

        <!-- Site Description -->
        <section class="site-description">
            <h2 data-translate="about.title">About Calculator Tap</h2>
            <p data-translate="about.paragraph1">
                Calculator Tap is your go-to resource for essential <strong>financial calculators</strong> designed to help you make informed financial decisions. 
                Our tools are built with user experience in mind, offering clear results and helpful explanations.
            </p>
            <p data-translate="about.paragraph2">
                Whether you're planning to <strong>take out a loan</strong>, <strong>buy a home</strong>, <strong>manage debt</strong>, or <strong>understand your paycheck</strong>, 
                our calculators provide accurate estimates to guide your financial planning.
            </p>
            
            <h3 data-translate="about.whyTitle">Why Choose Our Calculators?</h3>
            <ul>
                <li data-translate="about.why1"><strong>Easy to Use:</strong> Simple, intuitive interfaces for quick calculations</li>
                <li data-translate="about.why2"><strong>Mobile-Friendly:</strong> Works seamlessly on all devices</li>
                <li data-translate="about.why3"><strong>Detailed Results:</strong> Comprehensive breakdowns and explanations</li>
                <li data-translate="about.why4"><strong>Free to Use:</strong> No registration required, no hidden fees</li>
            </ul>
        </section>

        <!-- FAQ Section -->
        <section class="faq-section">
            <h2 data-translate="faq.title">Frequently Asked Questions</h2>
            <div class="faq-item">
                <h3 data-translate="faq.q1">Are these calculators free to use?</h3>
                <p data-translate="faq.a1">Yes, all our calculators are completely free to use. No registration or payment is required.</p>
            </div>
            <div class="faq-item">
                <h3 data-translate="faq.q2">How accurate are the calculations?</h3>
                <p data-translate="faq.a2">Our calculators use standard financial formulas and up-to-date tax rates. However, actual results may vary based on specific circumstances.</p>
            </div>
            <div class="faq-item">
                <h3 data-translate="faq.q3">Can I save my calculations?</h3>
                <p data-translate="faq.a3">Currently, calculations are performed in real-time and not saved. We recommend noting down important results.</p>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-container">
            <div class="footer-links">
                <a href="privacy-policy.html">Privacy Policy</a>
                <a href="terms.html">Terms</a>
                <a href="about.html">About</a>
                <a href="sitemap.html">Sitemap</a>
            </div>
            <div class="copyright">
                <p>Copyright © <span id="currentYear"></span> Calculator Tap. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // Update current year in footer
        document.getElementById('currentYear').textContent = new Date().getFullYear();
        
        // Search functionality
        const searchInput = document.getElementById('searchInput');
        const searchButton = document.getElementById('searchButton');
        const searchSuggestions = document.getElementById('searchSuggestions');
        
        const calculators = [
            { name: 'Loan Calculator', url: 'loan-calculator/loan-calculator.html', keywords: ['loan', 'payment', 'interest'] },
            { name: 'Mortgage Calculator', url: 'Mortgage-Qualification-Calculator/mortgage-qualification.html', keywords: ['mortgage', 'house', 'home'] },
            { name: 'Paycheck Calculator', url: 'paycheck-calculator/paycheck-calculator.html', keywords: ['paycheck', 'salary', 'tax'] },
            { name: 'Debt Payoff Calculator', url: 'payoff-calculator/payoff-calculator.html', keywords: ['debt', 'payoff', 'repayment'] },
            { name: 'Compound Interest Calculator', url: 'compound-interest-calculator/compound-interest.html', keywords: ['compound', 'interest', 'investment'] },
            { name: 'Investment Return Calculator', url: 'investment-return-calculator/investment-return.html', keywords: ['return', 'investment', 'portfolio'] },
            { name: 'Dividend Calculator', url: 'dividend-calculator/dividend-calculator.html', keywords: ['dividend', 'income', 'yield'] },
            { name: 'Stock Return Calculator', url: 'stock-return-calculator/stock-return.html', keywords: ['stock', 'return', 'equity'] }
        ];
        
        function updateSuggestions(query) {
            searchSuggestions.innerHTML = '';
            if (!query) return;
            
            const matches = calculators.filter(calc => 
                calc.name.toLowerCase().includes(query.toLowerCase()) ||
                calc.keywords.some(keyword => keyword.toLowerCase().includes(query.toLowerCase()))
            );
            
            matches.forEach(calc => {
                const div = document.createElement('div');
                div.className = 'suggestion-item';
                div.innerHTML = `<a href="${calc.url}">${calc.name}</a>`;
                searchSuggestions.appendChild(div);
            });
            
            searchSuggestions.style.display = matches.length ? 'block' : 'none';
        }
        
        searchInput.addEventListener('input', () => updateSuggestions(searchInput.value));
        searchButton.addEventListener('click', () => {
            const query = searchInput.value;
            if (query) {
                const match = calculators.find(calc => 
                    calc.name.toLowerCase().includes(query.toLowerCase()) ||
                    calc.keywords.some(keyword => keyword.toLowerCase().includes(query.toLowerCase()))
                );
                if (match) window.location.href = match.url;
            }
        });
        
        // Close suggestions when clicking outside
        document.addEventListener('click', (e) => {
            if (!searchInput.contains(e.target) && !searchSuggestions.contains(e.target)) {
                searchSuggestions.style.display = 'none';
            }
        });
        
        // 커스텀 언어 선택 드롭다운
        (function initLanguageSelector() {
            const languageSelectBtn = document.getElementById('languageSelectBtn');
            const languageDropdown = document.getElementById('languageDropdown');
            const languageOptions = document.querySelectorAll('.language-option');
            const languageSelected = document.querySelector('.language-selected');
            
            if (!languageSelectBtn || !languageDropdown) {
                console.warn('Language selector elements not found');
                return;
            }
            
            // 현재 언어 감지
            const currentPath = window.location.pathname;
            const pathLang = currentPath.split('/').find(p => ['en', 'es', 'zh', 'ko', 'ja'].includes(p)) || 'en';
            const langMap = {
                'en': 'English',
                'es': 'Español',
                'zh': '中文',
                'ko': '한국어',
                'ja': '日本語'
            };
            
            // 현재 언어 설정
            if (languageSelected) {
                languageSelected.textContent = langMap[pathLang] || 'English';
            }
            
            if (languageOptions.length > 0) {
                languageOptions.forEach(option => {
                    if (option.dataset.lang === pathLang) {
                        option.classList.add('active');
                    }
                });
            }
            
            // 드롭다운 토글
            languageSelectBtn.addEventListener('click', function(e) {
                e.preventDefault();
                e.stopPropagation();
                const isActive = languageSelectBtn.classList.contains('active');
                languageSelectBtn.classList.toggle('active');
                languageDropdown.classList.toggle('show');
            });
            
            // 옵션 선택
            if (languageOptions.length > 0) {
                languageOptions.forEach(option => {
                    option.addEventListener('click', function(e) {
                        e.preventDefault();
                        e.stopPropagation();
                        
                        const selectedLang = option.dataset.lang;
                        if (!selectedLang) return;
                        
                        // 같은 언어면 이동하지 않음
                        if (selectedLang === pathLang) {
                            languageSelectBtn.classList.remove('active');
                            languageDropdown.classList.remove('show');
                            return;
                        }
                        
                        localStorage.setItem('preferred-language', selectedLang);
                        
                        // 가장 단순한 방법: 현재 경로에서 언어 코드만 교체
                        const currentPath = window.location.pathname;
                        const langCodes = ['en', 'es', 'zh', 'ko', 'ja'];
                        
                        // 경로를 배열로 분리 (빈 문자열 제거)
                        const pathParts = currentPath.split('/').filter(p => p);
                        
                        // 언어 코드 위치 찾기
                        let langIndex = -1;
                        for (let i = 0; i < pathParts.length; i++) {
                            if (langCodes.includes(pathParts[i])) {
                                langIndex = i;
                                break;
                            }
                        }
                        
                        let newPath = '';
                        
                        if (langIndex >= 0) {
                            // 언어 코드 이후의 경로
                            const afterLang = pathParts.slice(langIndex + 1);
                            
                            if (window.location.protocol === 'file:') {
                                // 로컬 파일: 상대 경로 사용
                                // 예: dist/ko/index.html -> ../es/index.html
                                // 예: dist/ko/loan-calculator/loan-calculator.html -> ../../es/loan-calculator/loan-calculator.html
                                const dirDepth = afterLang.length;
                                newPath = '../'.repeat(dirDepth) + selectedLang + '/' + afterLang.join('/');
                            } else {
                                // 서버: 절대 경로 사용
                                pathParts[langIndex] = selectedLang;
                                newPath = '/' + pathParts.join('/');
                            }
                        } else {
                            // 언어 코드가 없는 경우 (메인 index.html에서)
                            const fileName = pathParts[pathParts.length - 1] || 'index.html';
                            // 서버에서는 /언어/index.html로 이동
                            newPath = '/' + selectedLang + '/' + fileName;
                        }
                        
                        // 페이지 이동
                        window.location.href = newPath;
                    });
                });
            }
            
            // 외부 클릭 시 닫기
            document.addEventListener('click', function(e) {
                if (languageSelectBtn && languageDropdown) {
                    if (!languageSelectBtn.contains(e.target) && !languageDropdown.contains(e.target)) {
                        languageSelectBtn.classList.remove('active');
                        languageDropdown.classList.remove('show');
                    }
                }
            });
        })();
        
        // 모바일 메뉴 스크립트 추가
        const hamburgerMenu = document.getElementById('hamburgerMenu');
        const mobileNav = document.getElementById('mobileNav');
        const closeMenu = document.getElementById('closeMenu');
        
        hamburgerMenu.addEventListener('click', () => {
            mobileNav.classList.add('active');
            document.body.style.overflow = 'hidden'; // 스크롤 방지
        });
        
        closeMenu.addEventListener('click', () => {
            mobileNav.classList.remove('active');
            document.body.style.overflow = ''; // 스크롤 복원
        });
        
        // 모바일 메뉴 링크 클릭 시 메뉴 닫기
        const mobileNavLinks = document.querySelectorAll('.mobile-nav-link');
        mobileNavLinks.forEach(link => {
            link.addEventListener('click', () => {
                mobileNav.classList.remove('active');
                document.body.style.overflow = '';
            });
        });
        
        // 기본 계산기 기능
        let calcExpression = '';
        let lastResult = '';
        const calcDisplayResult = document.getElementById('calcDisplay');
        const calcDisplayExpression = document.getElementById('calcExpression');
        
        function appendToCalc(value) {
            // '%' 처리를 위한 로직
            if (value === '%') {
                if (calcExpression && !isNaN(calcExpression[calcExpression.length - 1])) {
                    calcExpression = String(parseFloat(calcExpression) / 100);
                    updateDisplay();
                    return;
                }
            }
            
            // 연산자 중복 입력 방지
            const operators = ['*', '/', '+', '-'];
            const lastChar = calcExpression[calcExpression.length - 1];
            
            // 연산자를 입력하려고 할 때
            if (operators.includes(value)) {
                // 이전 문자가 연산자이거나 calcExpression이 비어있으면 입력하지 않음
                if (operators.includes(lastChar) || calcExpression === '') {
                    return;
                }
            }
            
            calcExpression += value;
            updateDisplay();
        }
        
        function updateDisplay() {
            // 화면에 표시할 때 기호 변경
            let displayText = calcExpression
                .replace(/\*/g, '×')
                .replace(/\//g, '÷');
            calcDisplayResult.textContent = displayText || '0';
        }
        
        function clearCalc() {
            calcExpression = '';
            lastResult = '';
            calcDisplayResult.textContent = '0';
            calcDisplayExpression.textContent = '';
        }
        
        function backspace() {
            calcExpression = calcExpression.slice(0, -1);
            updateDisplay();
        }
        
        function toggleSign() {
            if (calcExpression) {
                // 간단한 구현: 결과가 있으면 부호 변경
                const currentValue = parseFloat(calcExpression);
                if (!isNaN(currentValue)) {
                    calcExpression = String(-currentValue);
                    updateDisplay();
                }
            }
        }
        
        function calculateResult() {
            try {
                // 계산식 저장
                const expressionForDisplay = calcExpression
                    .replace(/\*/g, ' × ')
                    .replace(/\//g, ' ÷ ')
                    .replace(/\+/g, ' + ')
                    .replace(/\-/g, ' - ');
                
                // 안전한 eval 대안
                const result = Function('"use strict"; return (' + calcExpression + ')')();
                
                // 계산식 표시
                calcDisplayExpression.textContent = expressionForDisplay + ' =';
                
                // 결과 저장 및 표시
                lastResult = result;
                calcExpression = String(result);
                calcDisplayResult.textContent = Number.isInteger(result) ? result : result.toFixed(2);
            } catch (error) {
                calcDisplayResult.textContent = 'Error';
                calcExpression = '';
            }
        }
    </script>
</body>
</html>
