<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debt Payoff Calculator - Calculate Your Debt Free Date | Calculator Tap</title>
    <meta name="description" content="Free debt payoff calculator to estimate when you'll be debt-free. Calculate your debt-free date, total interest, and monthly payments.">
    <meta name="keywords" content="debt payoff calculator, debt free calculator, debt snowball calculator, debt avalanche calculator, debt repayment calculator">
    <link rel="icon" href="../favicon.ico" type="image/x-icon">
    <link rel="shortcut icon" href="../favicon.ico" type="image/x-icon">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://calculatortap.com/payoff-calculator/payoff-calculator.html">
    <meta property="og:title" content="Debt Payoff Calculator | Free Online Tool | Calculator Tap">
    <meta property="og:description" content="Calculate your debt payoff strategy and timeline with our free online debt payoff calculator.">
    <meta property="og:image" content="../calculator tap logo.png">
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://calculatortap.com/payoff-calculator/payoff-calculator.html">
    <meta property="twitter:title" content="Debt Payoff Calculator | Free Online Tool | Calculator Tap">
    <meta property="twitter:description" content="Calculate your debt payoff strategy and timeline with our free online debt payoff calculator.">
    <meta property="twitter:image" content="../calculator tap logo.png">
    <style>
        /* Reset & Base Styles */
        *, *::before, *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f5f7fa;
        }
        
        /* Header Styles */
        .header {
            background-color: #fff;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .header-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            display: flex;
            align-items: center;
        }
        
        .logo-link {
            text-decoration: none;
            color: inherit;
            transition: opacity 0.2s;
        }
        
        .logo-link:hover {
            opacity: 0.8;
        }
        
        .logo h1 {
            font-size: 1.5rem;
            font-weight: 600;
            color: #2c3e50;
        }
        
        /* Main Nav Styles */
        .main-nav {
            display: flex;
            gap: 1.5rem;
        }
        
        .nav-link {
            color: #2c3e50;
            text-decoration: none;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: color 0.3s ease;
        }
        
        .nav-link:hover {
            color: #3498db;
        }
        
        .nav-link i {
            font-size: 1.1rem;
        }
        
        /* Container Styles */
        .container {
            max-width: 100%;
            margin: 0 auto;
            padding: 1.5rem 1rem;
        }
        
        /* Main Page Layout */
        .page-layout {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 1fr 330px;
            gap: 1.5rem;
            padding: 1rem;
        }
        
        /* Calculator Column */
        .calculator-column {
            width: 100%;
        }
        
        /* Sidebar Column */
        .sidebar-column {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        
        /* Advertisement Style */
        .advertisement {
            background-color: #f8f9fa;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 1rem;
            height: 300px;
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 1rem;
        }
        
        /* Other Calculators Section */
        .other-calculators {
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
            padding: 1rem;
        }
        
        .other-calculators h3 {
            color: #2c3e50;
            font-size: 1.2rem;
            margin-bottom: 1rem;
            border-bottom: 1px solid #eee;
            padding-bottom: 0.5rem;
        }
        
        .calculator-list {
            list-style: none;
        }
        
        .calculator-list li {
            margin-bottom: 0.5rem;
        }
        
        .calculator-list a {
            display: block;
            padding: 0.5rem;
            text-decoration: none;
            color: #3498db;
            transition: background-color 0.2s;
            border-radius: 4px;
        }
        
        .calculator-list a:hover {
            background-color: #f8f9fa;
        }
        
        /* Calculator Main Styles */
        .calculator-main {
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            padding: 1.5rem;
            margin-bottom: 2rem;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1.5rem;
        }
        
        .calculator-header {
            grid-column: 1 / -1;
            text-align: center;
            margin-bottom: 1.5rem;
        }
        
        .calculator-title {
            font-size: 1.75rem;
            color: #2c3e50;
            margin-bottom: 0.5rem;
        }
        
        .calculator-description {
            color: #7f8c8d;
            max-width: 600px;
            margin: 0 auto;
            font-size: 0.9rem;
        }

        /* Form Styles */
        .calculator-form {
            grid-column: 1;
        }
        
        .form-group {
            margin-bottom: 1.5rem;
        }
        
        .form-group label {
            display: block;
            font-size: 0.875rem;
            margin-bottom: 0.5rem;
            color: #555;
            font-weight: 500;
        }
        
        .form-group input {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 0.9rem;
            transition: border-color 0.2s;
            background-color: white;
            height: 45px;
        }
        
        .form-group input:focus {
            border-color: #3498db;
            outline: none;
        }
        
        .input-group {
            position: relative;
            width: 100%;
        }
        
        .currency-symbol {
            position: absolute;
            left: 12px;
            top: 50%;
            transform: translateY(-50%);
            color: #555;
            font-weight: 500;
            pointer-events: none;
        }
        
        .percent-symbol {
            position: absolute;
            right: 12px;
            top: 50%;
            transform: translateY(-50%);
            color: #555;
            font-weight: 500;
            pointer-events: none;
        }
        
        .input-group input {
            padding-left: 25px;
        }
        
        .input-group input[id="interestRate"] {
            padding-right: 25px;
        }
        
        /* Results Section */
        .results-section {
            grid-column: 2;
            padding: 1rem;
            background-color: #f8fafc;
            border-radius: 8px;
            display: flex;
            flex-direction: column;
        }
        
        .results-header {
            font-size: 1.2rem;
            color: #2c3e50;
            margin-bottom: 0.5rem;
            text-align: center;
            padding-top: 0.5rem;
        }
        
        .chart-container {
            width: 100%;
            height: 180px;
            margin: 0 auto 0.5rem;
            display: flex;
            justify-content: center;
            align-items: center;
            border: 1px solid #eee;
            border-radius: 4px;
            position: relative;
        }
        
        /* Chart Legend Styles */
        .chart-legend {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 1rem;
            font-size: 0.75rem;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            color: #7f8c8d;
        }
        
        .legend-color {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 4px;
            display: inline-block;
        }
        
        .legend-color.principal {
            background-color: #3498db;
        }
        
        .legend-color.interest {
            background-color: #e74c3c;
        }
        
        .legend-color.payment {
            background-color: #27ae60;
        }
        
        .chart-placeholder {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            color: #7f8c8d;
            font-size: 0.9rem;
        }
        
        .results-summary {
            text-align: center;
            margin-bottom: 1rem;
        }
        
        .debt-free-date {
            font-size: 2rem;
            color: #2ecc71;
            font-weight: 600;
            display: block;
            margin-bottom: 0.25rem;
        }
        
        .debt-free-label {
            font-size: 0.9rem;
            color: #7f8c8d;
            display: block;
        }
        
        .results-details {
            margin-top: 1rem;
            border-top: 1px solid #eee;
            padding-top: 0.5rem;
        }
        
        .result-row {
            display: flex;
            justify-content: space-between;
            padding: 0.4rem 0;
            border-bottom: 1px solid #eee;
            font-size: 0.9rem;
        }
        
        .result-row:last-child {
            border-bottom: none;
        }
        
        .result-label {
            color: #7f8c8d;
        }
        
        .result-value {
            font-weight: 500;
            color: #2c3e50;
        }
        
        /* Calculate Button */
        .calculate-btn {
            background-color: #3498db;
            color: white;
            border: none;
            border-radius: 4px;
            padding: 0.75rem 1.25rem;
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.2s;
            margin-top: 1rem;
            width: 100%;
        }
        
        /* Reset Button */
        .reset-btn {
            background-color: #f1f1f1;
            color: #333;
            border: none;
            border-radius: 4px;
            padding: 0.75rem 1.25rem;
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.2s;
            margin-top: 0.5rem;
            width: 100%;
        }

        .reset-btn:hover {
            background-color: #e0e0e0;
        }
        
        .calculate-btn:hover {
            background-color: #2980b9;
        }
        
        /* Explanation Section Styles */
        .explanation-section {
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            padding: 1.5rem;
            margin-bottom: 2rem;
        }
        
        .explanation-title {
            font-size: 1.5rem;
            color: #2c3e50;
            margin-bottom: 1.5rem;
            text-align: center;
        }
        
        .explanation-text h3 {
            color: #3498db;
            margin: 1.5rem 0 0.75rem;
            font-size: 1.125rem;
        }
        
        .explanation-text p {
            margin-bottom: 1rem;
            line-height: 1.6;
        }
        
        .explanation-text ul {
            padding-left: 1.5rem;
            margin-bottom: 1rem;
        }
        
        .explanation-text li {
            margin-bottom: 0.5rem;
        }
        
        /* Footer Styles */
        .footer {
            background-color: #2c3e50;
            color: white;
            padding: 2rem 0;
            margin-top: 4rem;
        }
        
        .footer-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
            text-align: center;
        }
        
        .footer-links {
            margin-bottom: 1rem;
        }
        
        .footer-links a {
            color: white;
            text-decoration: none;
            margin: 0 1rem;
            transition: color 0.3s ease;
        }
        
        .footer-links a:hover {
            color: #3498db;
        }
        
        .copyright {
            font-size: 0.9rem;
            color: #bdc3c7;
        }
        
        /* 모바일 메뉴 스타일 추가 */
        .hamburger-menu {
            display: none;
            font-size: 1.8rem;
            color: #333;
            cursor: pointer;
        }
        
        .mobile-nav {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(255, 255, 255, 0.95);
            z-index: 1000;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            transform: translateY(-100%);
            transition: transform 0.3s ease;
        }
        
        .mobile-nav.active {
            transform: translateY(0);
            display: flex;
        }
        
        .mobile-nav-link {
            display: block;
            font-size: 1.5rem;
            padding: 1rem;
            color: #333;
            text-decoration: none;
            margin: 0.5rem 0;
            transition: color 0.2s;
        }
        
        .mobile-nav-link:hover {
            color: #3498db;
        }
        
        .close-menu {
            position: absolute;
            top: 1.5rem;
            right: 1.5rem;
            font-size: 2rem;
            color: #333;
            cursor: pointer;
        }
        
        /* Responsive styles */
        @media (max-width: 900px) {
            .page-layout {
                grid-template-columns: 1fr;
            }
            
            .calculator-column {
                order: 1;
            }
            
            .sidebar-column {
                order: 2;
            }
        }
        
        @media (max-width: 768px) {
            .main-nav {
                display: none;
            }
            
            .hamburger-menu {
                display: block;
            }
            
            .calculator-main {
                grid-template-columns: 1fr;
            }
            
            .results-section {
                grid-column: 1;
                margin-top: 1rem;
            }
            
            .calculator-form {
                grid-column: 1;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-container">
            <div class="logo">
                <a href="../index.html" class="logo-link" style="display: flex; align-items: center; text-decoration: none;">
                    <picture>
                        <source srcset="../calculator-tap-logo.webp" type="image/webp">
                        <img src="../calculator-tap-logo.png" alt="Calculator Tap" style="height: 40px; width: auto;">
                    </picture>
                    <h1 style="margin-left: 10px; color: #2c3e50;">Calculator Tap</h1>
                </a>
            </div>
            <nav class="main-nav">
                <a href="../index.html" class="nav-link"><i class="fas fa-home"></i> Home</a>
            </nav>
            <div class="hamburger-menu" id="hamburgerMenu">
                <i class="fas fa-bars" aria-hidden="true"></i>
            </div>
        </div>
    </header>

    <!-- 모바일 내비게이션 추가 -->
    <div class="mobile-nav" id="mobileNav">
        <div class="close-menu" id="closeMenu">
            <i class="fas fa-times" aria-hidden="true"></i>
        </div>
        <a href="../index.html" class="mobile-nav-link"><i class="fas fa-home"></i> Home</a>
        <a href="../loan-calculator/loan-calculator.html" class="mobile-nav-link"><i class="fas fa-money-bill"></i> Loan Calculator</a>
        <a href="../Mortgage-Qualification-Calculator/mortgage-qualification.html" class="mobile-nav-link"><i class="fas fa-home"></i> Mortgage Calculator</a>
        <a href="../paycheck-calculator/paycheck-calculator.html" class="mobile-nav-link"><i class="fas fa-wallet"></i> Paycheck Calculator</a>
        <a href="../payoff-calculator/payoff-calculator.html" class="mobile-nav-link"><i class="fas fa-money-bill-wave"></i> Debt Payoff Calculator</a>
    </div>

    <div class="container">
        <div class="page-layout">
            <div class="calculator-column">
                <!-- Main Content -->
                <main class="calculator-main">
                    <div class="calculator-header">
                        <h1 class="calculator-title" data-translate="calculators.debt.title">Debt Payoff Calculator</h1>
                        <p class="calculator-description" data-translate="calculators.debt.description">Create a debt repayment plan, calculate your debt-free date, and see how much you can save on interest payments.</p>
                    </div>
                    
                    <div class="calculator-form">
                        <div class="form-group">
                            <label for="debtAmount" data-translate="calculators.debt.debtAmount">Total Debt Amount</label>
                            <div class="input-group">
                                <span class="currency-symbol">$</span>
                                <input type="text" id="debtAmount" placeholder="Enter your total debt amount" data-translate-attr="calculators.debt.placeholderDebt" min="0" inputmode="numeric">
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="interestRate" data-translate="calculators.debt.interestRate">Annual Interest Rate</label>
                            <div class="input-group">
                                <input type="number" id="interestRate" placeholder="Enter annual interest rate" data-translate-attr="calculators.debt.placeholderRate" min="0" step="0.01">
                                <span class="percent-symbol">%</span>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="monthlyPayment" data-translate="calculators.debt.monthlyPayment">Monthly Payment</label>
                            <div class="input-group">
                                <span class="currency-symbol">$</span>
                                <input type="text" id="monthlyPayment" placeholder="Enter monthly payment amount" data-translate-attr="calculators.debt.placeholderPayment" min="0" inputmode="numeric">
                            </div>
                        </div>
                        
                        <button id="calculateBtn" class="calculate-btn" data-translate="calculators.debt.button">Calculate</button>
                        <button id="resetBtn" class="reset-btn" data-translate="calculators.debt.resetButton">Reset</button>
                    </div>
                    
                    <div class="results-section">
                        <h3 class="results-header" data-translate="calculators.debt.results">Payoff Results</h3>
                        
                        <div class="chart-container">
                            <canvas id="payoffChart"></canvas>
                            <div class="chart-placeholder" data-translate="calculators.debt.chartPlaceholder">Chart will be displayed after calculation</div>
                        </div>
                        
                        <div class="chart-legend">
                            <div class="legend-item">
                                <span class="legend-color principal"></span>
                                <span data-translate="calculators.debt.principal">Principal</span>
                            </div>
                            <div class="legend-item">
                                <span class="legend-color interest"></span>
                                <span data-translate="calculators.debt.interest">Interest</span>
                            </div>
                            <div class="legend-item">
                                <span class="legend-color payment"></span>
                                <span data-translate="calculators.debt.payment">Payment</span>
                            </div>
                        </div>
                        
                        <div class="results-summary">
                            <span id="debtFreeDate" class="debt-free-date">0 months</span>
                            <span class="debt-free-label" data-translate="calculators.debt.timeToDebtFree">Time to Debt-Free</span>
                        </div>
                        
                        <div class="results-details">
                            <div class="result-row">
                                <span class="result-label" data-translate="calculators.debt.monthlyPaymentLabel">Monthly Payment</span>
                                <span id="monthlyPaymentDisplay" class="result-value">$0.00</span>
                            </div>
                            <div class="result-row">
                                <span class="result-label" data-translate="calculators.debt.debtAmountLabel">Debt Amount</span>
                                <span id="debtAmountDisplay" class="result-value">$0.00</span>
                            </div>
                            <div class="result-row">
                                <span class="result-label" data-translate="calculators.debt.totalPayment">Total Payment</span>
                                <span id="totalPayment" class="result-value">$0.00</span>
                            </div>
                            <div class="result-row">
                                <span class="result-label" data-translate="calculators.debt.totalInterest">Total Interest</span>
                                <span id="totalInterest" class="result-value">$0.00</span>
                            </div>
                        </div>
                    </div>
                </main>

                <!-- SEO Content Section -->
                <section class="explanation-section">
                    <h2 class="explanation-title">Understanding Debt Payoff</h2>
                    <div class="explanation-text">
                        <p>
                            Our <strong>Debt Payoff Calculator</strong> helps you determine when you'll be debt-free based on your 
                            current debt amount, interest rate, and monthly payment. This tool provides valuable insights into 
                            your debt repayment journey.
                        </p>
                        
                        <h3>Key Factors in Debt Payoff:</h3>
                        <ul>
                            <li><strong>Debt Amount:</strong> The total amount you owe</li>
                            <li><strong>Interest Rate:</strong> The annual percentage rate (APR) on your debt</li>
                            <li><strong>Monthly Payment:</strong> The amount you can afford to pay each month</li>
                            <li><strong>Time to Debt-Free:</strong> How long it will take to pay off your debt</li>
                        </ul>

                        <h3>Strategies for Faster Debt Payoff:</h3>
                        <ul>
                            <li>Make larger monthly payments when possible</li>
                            <li>Consider debt consolidation for lower interest rates</li>
                            <li>Use the debt snowball or avalanche method</li>
                            <li>Look for ways to increase your monthly payment</li>
                        </ul>

                        <h3>Benefits of Being Debt-Free:</h3>
                        <ul>
                            <li>Improved credit score</li>
                            <li>More disposable income</li>
                            <li>Reduced financial stress</li>
                            <li>Better financial flexibility</li>
                        </ul>
                    </div>
                </section>
            </div>
            
            <div class="sidebar-column">
                <!-- Other Calculators -->
                <div class="other-calculators">
                    <h3>Other Calculators</h3>
                    <ul class="calculator-list">
                        <li><a href="../loan-calculator/loan-calculator.html">Loan Calculator</a></li>
                        <li><a href="../Mortgage-Qualification-Calculator/mortgage-qualification.html">Mortgage Calculator</a></li>
                        <li><a href="../paycheck-calculator/paycheck-calculator.html">Paycheck Calculator</a></li>
                        <li><a href="../payoff-calculator/payoff-calculator.html">Debt Payoff Calculator</a></li>
                        <li><a href="../compound-interest-calculator/compound-interest.html">Compound Interest Calculator</a></li>
                        <li><a href="../investment-return-calculator/investment-return.html">Investment Return Calculator</a></li>
                        <li><a href="../dividend-calculator/dividend-calculator.html">Dividend Calculator</a></li>
                        <li><a href="../stock-return-calculator/stock-return.html">Stock Return Calculator</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-container">
            <div class="footer-links">
                <a href="../privacy-policy.html">Privacy Policy</a>
                <a href="../terms.html">Terms</a>
                <a href="../about.html">About</a>
                <a href="../sitemap.html">Sitemap</a>
            </div>
            <div class="copyright">
                <p>Copyright © <span id="currentYear"></span> Calculator Tap. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // Update current year in footer
        document.getElementById('currentYear').textContent = new Date().getFullYear();
        
        // Get all input elements
        const debtAmountInput = document.getElementById('debtAmount');
        const interestRateInput = document.getElementById('interestRate');
        const monthlyPaymentInput = document.getElementById('monthlyPayment');
        const calculateBtn = document.getElementById('calculateBtn');
        const resetBtn = document.getElementById('resetBtn');
        
        // Note: loanAmountInput is used in calculatePayoff but refers to debtAmountInput
        const loanAmountInput = debtAmountInput;
        
        // Get result elements
        const debtFreeDateElement = document.getElementById('debtFreeDate');
        const totalInterestElement = document.getElementById('totalInterest');
        const totalPaymentElement = document.getElementById('totalPayment');
        const monthlyPaymentDisplay = document.getElementById('monthlyPaymentDisplay');
        const debtAmountDisplay = document.getElementById('debtAmountDisplay');
        const chartPlaceholder = document.querySelector('.chart-placeholder');
        
        // URL 경로에서 locale 감지
        const currentPath = window.location.pathname;
        const pathLang = currentPath.split('/').find(p => ['en', 'es', 'zh', 'ko', 'ja'].includes(p)) || 'en';
        
        // Locale별 통화 설정
        const currencyConfig = {
            en: { symbol: '$', currency: 'USD', locale: 'en-US' },
            ko: { symbol: '₩', currency: 'KRW', locale: 'ko-KR' },
            zh: { symbol: '¥', currency: 'CNY', locale: 'zh-CN' },
            es: { symbol: '$', currency: 'USD', locale: 'es-US' },
            ja: { symbol: '¥', currency: 'JPY', locale: 'ja-JP' }
        };
        
        const currentCurrency = currencyConfig[pathLang] || currencyConfig['en'];
        
        // 모든 통화 기호 요소 업데이트
        const currencySymbolElements = document.querySelectorAll('.currency-symbol');
        currencySymbolElements.forEach(el => {
            el.textContent = currentCurrency.symbol;
        });
        
        // Format currency with locale
        const formatCurrency = (amount) => {
            const formatOptions = {
                style: 'currency',
                currency: currentCurrency.currency,
                minimumFractionDigits: currentCurrency.currency === 'KRW' || currentCurrency.currency === 'JPY' ? 0 : 2,
                maximumFractionDigits: currentCurrency.currency === 'KRW' || currentCurrency.currency === 'JPY' ? 0 : 2
            };
            return new Intl.NumberFormat(currentCurrency.locale, formatOptions).format(amount);
        };
        
        // Format percentage
        const formatPercentage = (value) => {
            return new Intl.NumberFormat('en-US', {
                style: 'percent',
                minimumFractionDigits: 1,
                maximumFractionDigits: 1
            }).format(value / 100);
        };
        
        // Format number with commas
        const formatNumber = (value) => {
            if (!value) return '';
            const numValue = value.toString().replace(/[^0-9.-]+/g, '');
            if (!numValue) return '';
            const num = parseFloat(numValue);
            if (isNaN(num)) return '';
            return num.toLocaleString('en-US');
        };
        
        // Parse number from formatted string
        const parseNumber = (value) => {
            if (!value) return 0;
            const numValue = value.toString().replace(/[^0-9.-]+/g, '');
            return parseFloat(numValue) || 0;
        };
        
        // Format input on input event
        const formatInput = (input) => {
            const cursorPosition = input.selectionStart;
            const oldValue = input.value;
            const formattedValue = formatNumber(oldValue);
            input.value = formattedValue;
            
            // Adjust cursor position
            const newCursorPosition = cursorPosition + (formattedValue.length - oldValue.length);
            input.setSelectionRange(newCursorPosition, newCursorPosition);
        };
        
        // Create the initial pie chart with sample data
        let payoffChart;
        
        function createInitialChart() {
            const ctx = document.getElementById('payoffChart').getContext('2d');
            
            // Sample data
            const data = {
                labels: ['Principal', 'Interest', 'Monthly Payment'],
                datasets: [{
                    data: [10000, 2000, 500],
                    backgroundColor: ['#3498db', '#e74c3c', '#27ae60'],
                    borderColor: ['#fff', '#fff', '#fff'],
                    borderWidth: 2
                }]
            };
            
            // Config
            const config = {
                type: 'bar',
                data: data,
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    indexAxis: 'y',
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    const label = context.label || '';
                                    const value = context.raw || 0;
                                    return `${label}: ${formatCurrency(value)}`;
                                }
                            }
                        }
                    },
                    scales: {
                        x: {
                            display: false
                        },
                        y: {
                            display: false
                        }
                    }
                }
            };
            
            payoffChart = new Chart(ctx, config);
            
            // Sample values display
            const sampleMonths = 24;
            const sampleYears = Math.floor(sampleMonths / 12);
            const sampleRemainingMonths = sampleMonths % 12;
            let sampleTimeText = '';
            if (sampleYears > 0) {
                if (pathLang === 'ko') {
                    sampleTimeText = `${sampleYears}년 ${sampleRemainingMonths}개월`;
                } else if (pathLang === 'zh') {
                    sampleTimeText = `${sampleYears}年${sampleRemainingMonths}个月`;
                } else if (pathLang === 'ja') {
                    sampleTimeText = `${sampleYears}年${sampleRemainingMonths}ヶ月`;
                } else if (pathLang === 'es') {
                    sampleTimeText = `${sampleYears} ${sampleYears > 1 ? 'años' : 'año'} ${sampleRemainingMonths} ${sampleRemainingMonths !== 1 ? 'meses' : 'mes'}`;
                } else {
                    sampleTimeText = `${sampleYears} ${sampleYears > 1 ? 'years' : 'year'} ${sampleRemainingMonths} ${sampleRemainingMonths !== 1 ? 'months' : 'month'}`;
                }
            } else {
                if (pathLang === 'ko') {
                    sampleTimeText = `${sampleMonths}개월`;
                } else if (pathLang === 'zh') {
                    sampleTimeText = `${sampleMonths}个月`;
                } else if (pathLang === 'ja') {
                    sampleTimeText = `${sampleMonths}ヶ月`;
                } else if (pathLang === 'es') {
                    sampleTimeText = `${sampleMonths} ${sampleMonths !== 1 ? 'meses' : 'mes'}`;
                } else {
                    sampleTimeText = `${sampleMonths} ${sampleMonths !== 1 ? 'months' : 'month'}`;
                }
            }
            debtFreeDateElement.textContent = sampleTimeText;
            totalInterestElement.textContent = formatCurrency(2000);
            totalPaymentElement.textContent = formatCurrency(12000);
            monthlyPaymentDisplay.textContent = formatCurrency(500);
            debtAmountDisplay.textContent = formatCurrency(10000);
            
            // Hide placeholder
            chartPlaceholder.style.display = 'none';
        }
        
        // Initialize the chart
        try {
            createInitialChart();
        } catch (e) {
            console.error('Error creating chart:', e);
            chartPlaceholder.textContent = '차트 초기화 오류';
        }
        
        // Update the chart with calculated values
        function updateChart(principal, interest, payment) {
            if (payoffChart) {
                payoffChart.data.datasets[0].data = [principal, interest, payment];
                payoffChart.update();
            }
        }
        
        // Calculate debt payoff
        const calculatePayoff = () => {
            try {
                // Get input values
                const debtAmount = parseNumber(debtAmountInput.value) || 0;
                const annualInterestRate = parseFloat(interestRateInput.value) || 0;
                const monthlyPayment = parseNumber(monthlyPaymentInput.value) || 0;

                // Validate inputs
                if (debtAmount <= 0) {
                    alert('Please enter a valid debt amount');
                    return;
                }
                if (monthlyPayment <= 0) {
                    alert('Please enter a valid monthly payment');
                    return;
                }

                // Calculate monthly interest rate
                const monthlyInterestRate = (annualInterestRate / 100) / 12;
                
                // Initialize variables
                let remainingBalance = debtAmount;
                let totalInterest = 0;
                let months = 0;
                
                // Calculate months to payoff
                if (monthlyInterestRate > 0) {
                    // Using the loan payoff formula
                    months = Math.ceil(
                        Math.log(monthlyPayment / (monthlyPayment - remainingBalance * monthlyInterestRate)) /
                        Math.log(1 + monthlyInterestRate)
                    );
                    
                    // Calculate total interest
                    totalInterest = (monthlyPayment * months) - remainingBalance;
                } else {
                    // For 0% interest
                    months = Math.ceil(remainingBalance / monthlyPayment);
                    totalInterest = 0;
                }

                // Calculate total payment
                const totalPayment = remainingBalance + totalInterest;

                // Format months to years and months with translations
                const years = Math.floor(months / 12);
                const remainingMonths = months % 12;
                
                // Get translation keys from data attributes (build.js will have replaced them, so we'll use a simple approach)
                // For now, use language-specific formatting based on pathLang
                let timeToPayoff = '';
                if (years > 0) {
                    if (pathLang === 'ko') {
                        timeToPayoff = `${years}년 ${remainingMonths}개월`;
                    } else if (pathLang === 'zh') {
                        timeToPayoff = `${years}年${remainingMonths}个月`;
                    } else if (pathLang === 'ja') {
                        timeToPayoff = `${years}年${remainingMonths}ヶ月`;
                    } else if (pathLang === 'es') {
                        timeToPayoff = `${years} ${years > 1 ? 'años' : 'año'} ${remainingMonths} ${remainingMonths !== 1 ? 'meses' : 'mes'}`;
                    } else {
                        timeToPayoff = `${years} ${years > 1 ? 'years' : 'year'} ${remainingMonths} ${remainingMonths !== 1 ? 'months' : 'month'}`;
                    }
                } else {
                    if (pathLang === 'ko') {
                        timeToPayoff = `${months}개월`;
                    } else if (pathLang === 'zh') {
                        timeToPayoff = `${months}个月`;
                    } else if (pathLang === 'ja') {
                        timeToPayoff = `${months}ヶ月`;
                    } else if (pathLang === 'es') {
                        timeToPayoff = `${months} ${months !== 1 ? 'meses' : 'mes'}`;
                    } else {
                        timeToPayoff = `${months} ${months !== 1 ? 'months' : 'month'}`;
                    }
                }

                // Update results
                debtFreeDateElement.textContent = timeToPayoff;
                totalInterestElement.textContent = formatCurrency(totalInterest);
                totalPaymentElement.textContent = formatCurrency(totalPayment);
                monthlyPaymentDisplay.textContent = formatCurrency(monthlyPayment);
                debtAmountDisplay.textContent = formatCurrency(debtAmount);
                
                // Update chart with new values
                updateChart(debtAmount, totalInterest, monthlyPayment);
                
                // Hide placeholder if it's still visible
                chartPlaceholder.style.display = 'none';

            } catch (error) {
                console.error('Calculation error:', error);
                alert('An error occurred while calculating. Please check your inputs and try again.');
            }
        };

        // Reset function
        const resetCalculator = () => {
            // Reset input values
            debtAmountInput.value = '';
            interestRateInput.value = '';
            monthlyPaymentInput.value = '';

            // Reset displayed results
            debtFreeDateElement.textContent = '0 months';
            totalInterestElement.textContent = formatCurrency(0);
            totalPaymentElement.textContent = formatCurrency(0);
            monthlyPaymentDisplay.textContent = formatCurrency(0);
            debtAmountDisplay.textContent = formatCurrency(0);

            // Reset chart to initial state
            if (payoffChart) {
                payoffChart.destroy();
                payoffChart = null;
                createInitialChart();
            }
        };

        // Add event listeners
        calculateBtn.addEventListener('click', calculatePayoff);
        if (resetBtn) {
            resetBtn.addEventListener('click', resetCalculator);
        }

        // Allow calculation on Enter key
        [debtAmountInput, interestRateInput, monthlyPaymentInput].forEach(input => {
            input.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    calculatePayoff();
                }
            });
        });

        // Input formatting for currency fields (debtAmount, monthlyPayment)
        debtAmountInput.addEventListener('input', () => formatInput(debtAmountInput));
        monthlyPaymentInput.addEventListener('input', () => formatInput(monthlyPaymentInput));
        
        // Input validation for interest rate (keep numeric only)
        interestRateInput.addEventListener('input', () => {
            // Remove any non-numeric characters except decimal point
            interestRateInput.value = interestRateInput.value.replace(/[^0-9.]/g, '');
            
            // Ensure only one decimal point
            if ((interestRateInput.value.match(/\./g) || []).length > 1) {
                interestRateInput.value = interestRateInput.value.slice(0, -1);
            }
        });

        // 모바일 메뉴 스크립트 추가
        const hamburgerMenu = document.getElementById('hamburgerMenu');
        const mobileNav = document.getElementById('mobileNav');
        const closeMenu = document.getElementById('closeMenu');
        
        hamburgerMenu.addEventListener('click', () => {
            mobileNav.classList.add('active');
            document.body.style.overflow = 'hidden'; // 스크롤 방지
        });
        
        closeMenu.addEventListener('click', () => {
            mobileNav.classList.remove('active');
            document.body.style.overflow = ''; // 스크롤 복원
        });
        
        // 모바일 메뉴 링크 클릭 시 메뉴 닫기
        const mobileNavLinks = document.querySelectorAll('.mobile-nav-link');
        mobileNavLinks.forEach(link => {
            link.addEventListener('click', () => {
                mobileNav.classList.remove('active');
                document.body.style.overflow = '';
            });
        });
    </script>
</body>
</html> 